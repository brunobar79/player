<html>
<head>
  <script src="https://unpkg.com/wavesurfer.js"></script>
  <style>
      .button {
        box-sizing: border-box;
        height: 74px;

        border-color: transparent transparent transparent transparent;
        transition: 100ms all ease;
        will-change: border-width;
        cursor: pointer;
        border-style: solid;
        border-width: 37px 0 37px 60px;
        background: transparent;
      }

      .pause {
        border-style: double;
        border-width: 0px 0 0px 60px;
      }

      #button:focus {
        outline: 0px;
      }
  </style>
</head>
<body style="background-color: transparent">
  <div id="waveform"></div>
  <button id='button' class='button'></button>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const waveColor = decodeURIComponent(urlParams.get('waveColor'));
    const progressColor = decodeURIComponent(urlParams.get('progressColor'));
    const cursorcolor = decodeURIComponent(urlParams.get('cursorColor'));
    const buttonColor = decodeURIComponent(urlParams.get('buttonColor'));

      const wavesurfer = WaveSurfer.create({
          container: '#waveform',
          waveColor: waveColor || 'violet',
          progressColor: progressColor || 'purple',
          cursorColor: cursorcolor || '#fff',
          barWidth: 3
      });
      const uri = decodeURIComponent(urlParams.get('url'));
      wavesurfer.load(uri);
      let playing = false;
    
      const button = document.getElementById('button');
      button.style.borderColor = `transparent transparent transparent ${buttonColor || '#202020'}`;
      button.addEventListener('click', () => {
        if(!playing) {
          wavesurfer.play();
        } else {
          wavesurfer.pause();
        }
        playing = !playing;
        button.classList.toggle('pause');
      });
  </script>
</body>
</html>
